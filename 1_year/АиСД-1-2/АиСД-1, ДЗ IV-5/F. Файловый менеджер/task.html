<div class="problem-statement">
<div class="header">
<h1 class="title">F. Файловый менеджер</h1>
<table>
<tr class="time-limit">
<td class="property-title">Ограничение времени</td>
<td>1 секунда</td>
</tr>
<tr class="memory-limit">
<td class="property-title">Ограничение памяти</td>
<td>64Mb</td>
</tr>
<tr class="input-file">
<td class="property-title">Ввод</td>
<td colspan="1">стандартный ввод или input.txt</td>
</tr>
<tr class="output-file">
<td class="property-title">Вывод</td>
<td colspan="1">стандартный вывод или output.txt</td>
</tr>
</table>
</div>
<h2></h2>
<div class="legend"><span style="">
<p>Петя работает над очень большим проектом. Проект содержит N файлов. В процессе работы Пете часто приходится просматривать
            и редактировать файлы. Для ускорения работы Петя использует файловый менеджер Fur Manager, который отображает список имен
            файлов проекта в некотором порядке. 
         </p></span><p>В текущей версии Fur Manager’a для перемещения по списку имен файлов есть следующие возможности: </p>
<p>1. можно нажать клавишу вниз, при этом курсор перемещается на следующий файл в списке, для последнего файла следующим считается
         первый; 
      </p>
<p>2. можно нажать клавишу вверх, при этом курсор перемещается на предыдущий файл в списке, для первого файла предыдущим считается
         последний; 
      </p>
<p>3. можно нажать клавишу Alt и, удерживая ее, набрать последовательность латинских букв. После этого клавишу Alt следует отпустить,
         и в этот момент курсор переместится на ближайший файл, имя которого начинается c заданной последовательности символов. Ближайший
         файл — это файл, на который можно переместиться за наименьшее количество нажатий клавиши вниз. Если заданная последовательность
         является началом имени текущего файла, или файла, имя которого начинается с этой последовательности, не существует, то курсор
         останется на месте. 
      </p>
<p>Первая и вторая из описанных возможностей файлового менеджера требуют по одному нажатию клавиши, а третья — одного нажатия
         (нажатие клавиши Alt) плюс количество нажатий, равное длине набранной последовательности латинских букв. 
      </p>
<p>Файлы пронумерованы от 1 до N в порядке их следования. После загрузки Fur Manager’а курсор находится на первом файле. </p>
<p>Петя знает, что ему сначала придется редактировать файл с номером a1, затем с номером a2 и так далее, а последним — файл с
         номером ak. В последовательности a1, a2, ..., ak один и тот же номер может встречаться несколько раз. При каждом перемещении
         от одного файла к другому Петя хочет нажимать как можно меньше клавиш. 
      </p>
<p>Требуется написать программу, которая выдает искомую последовательность нажатий клавиш.</p>
</div>
<h2>Формат ввода</h2>
<div class="input-specification"><span style="">
<p>В первой строке входных данных содержится целое число N (1 ≤ N ≤ 1000) — количество файлов в проекте. </p></span><p>В следующих N строках записаны имена файлов, по одному в каждой строке. Файлы перечислены в том порядке, в котором они отображаются
         файловым менеджером. Имена состоят только из строчных латинских букв. Длина каждого имени не превосходит 2000 символов. Все
         имена файлов различны. 
      </p>
<p>Далее в следующей строке записано целое число k (1 ≤ k ≤ 10). </p>
<p>Последняя строка входных данных содержит k целых чисел a1, a2, ..., ak (1 ≤ ai ≤ N) — номера редактируемых файлов. Редактирование
         файлов выполняется в том порядке, в котором они встречаются в последовательности a1, a2, ..., ak.
      </p>
</div>
<h2>Формат вывода</h2>
<div class="output-specification"><span style="">
<p>Выведите описание искомой последовательности нажатий клавиш в виде k блоков информации: </p></span><p>первый блок информации описывает перемещение от файла с номером 1 к файлу с номером a1; </p>
<p>второй блок информации описывает перемещение от файла с номером a1 к файлу с номером a2; </p>
<p>… </p>
<p>k-ый блок информации описывает перемещение от файла с номером ak–1 к файлу с номером ak. </p>
<p>Каждый блок информации выглядит следующим образом. </p>
<p>В первой строке блока записывается число L — наименьшее количество нажатий клавиш, необходимое для перемещения от очередного
         файла последовательности к следующему. 
      </p>
<p>Следующие L строк блока описывают нажимаемые клавиши. Каждая из строк содержит описание одной клавиши: </p>
<p>если нажимается клавиша вниз, то в строке записывается слово down; </p>
<p>если нажимается клавиша вверх, то в строке записывается слово up; </p>
<p>если нажимается клавиша Alt, то в строке записывается слово Alt; </p>
<p>при нажатии клавиши с латинской буквой выводится соответствующая ей латинская буква. </p>
<p>Если существует несколько оптимальных способов перемещения, то требуется вывести любой из них.</p>
</div>
<h2>Пример</h2>
<table class="sample-tests">
<thead>
<tr>
<th>Ввод</th>
<th>Вывод</th>
</tr>
</thead>
<tbody>
<tr>
<td><pre>6
a
b
c
d
e
f
4
4 3 1 6
</pre></td>
<td><pre>2
Alt
d
1
up
2
Alt
a
1
up
</pre></td>
</tr>
</tbody>
</table>
</div>